<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebSocket</title>
</head>
<body>
    <h1>WebSocket - Example</h1>
    <button onclick="send()">Say hello to nodejs!</button>
    <p id="client"></p>
    <p id="server"></p>
    <script>
        var ws = new WebSocket("ws://localhost:3000");
        function send() {
            ws.send("Hello nodejs!");
            document.querySelector("#client").textContent = "me: Hello nodejs!";
        }
        ws.onmessage = function(e) {
            var data = JSON.parse(e.data);
            document.querySelector("#server").textContent = "nodejs: "+data.server;
        };
    </script>
</body>
</html>